<!DOCTYPE html>
<!--[if lt IE 7]>      <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html lang="en" ng-app="myApp" class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!-->
<html lang="en"> <!--<![endif]-->
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>SmartData Reference Essential Demo</title>
	<meta charset="utf-8">  <!-- it's important for d3.js -->
	<link rel="stylesheet" href="http://localhost:8000/lib/nvd3/build/nv.d3.min.css">
	<link rel="stylesheet" href="http://localhost:8000/lib/leaflet/dist/leaflet.css">
	<!-- link rel="stylesheet" href="http://localhost:8000/lib/yucca-angular-widgets/dist/style/angular-yucca.css"-->


	<script type="text/javascript" src="http://localhost:8000/lib/d3/d3.js"></script>
	<script type="text/javascript" src="http://localhost:8000/lib/nvd3/build/nv.d3.min.js"></script>
	<script type="text/javascript" src="http://localhost:8000/lib/leaflet/dist/leaflet.js"></script>


	<script type="text/javascript" src="http://localhost:8000/lib/angular/angular.js"></script>
	<script type="text/javascript" src="http://localhost:8000/lib/angular-sanitize/angular-sanitize.min.js"></script>
	<script type="text/javascript" src="http://localhost:8000/lib/angular-nvd3/dist/angular-nvd3.js"></script>
	<script type="text/javascript" src="http://localhost:8000/lib/stomp-websocket/lib/stomp.min.js"></script>
	<script type="text/javascript" src="http://localhost:8000/lib/angular-leaflet-directive/dist/angular-leaflet-directive.min.js"></script>
	<!-- <script type="text/javascript" src="http://localhost:8000/lib/yucca-angular-widgets/dist/js/angular-yucca.js"></script> -->
	
	
	
	  <script type="text/javascript" src="http://localhost:8001/js/yucca-constants.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/yucca-plugin.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/yucca-utils.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/yucca-websocket-service.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/yucca-services.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/lib/treemap-directive.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/lib/collapsibletree-directive.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/lib/sankey-directive.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/lib/forcedirected-directive.js"></script>
	  
	  <!-- script type="text/javascript" src="http://localhost:8001/js/lib/bullet-directive.js"></script-->
	  <!--
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-streams-tweet-stats.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-datasets-image-gallery.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-datasets-multidata-stats.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-streams-multistream-value.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-streams-last-value.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-streams-multistream-map.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-streams-monitor.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-streams-multistream-stats.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-datasets-multidata-treemap.js"></script>
	  -->
	  
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-multibar-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-multi-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-discretebar-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-pie-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-line-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-treemap-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-collapsibletree-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-sankey-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-forcedirected-chart.js"></script>	  
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-dataexplorer-chart.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-distribution-table.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-navigableexplorer-chart.js"></script>
	  	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-datasets-singledata-chart.js"></script>
	  
			<script type="text/javascript" src="http://localhost:8001/js/widgets/yucca-datasets-multidata-stats.js"></script>

	  <script type="text/javascript" src="http://localhost:8001/js/widgets/basic/yucca-commons.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/controls/yucca-control-selects.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/controls/yucca-control-filter.js"></script>
	  <script type="text/javascript" src="http://localhost:8001/js/widgets/controls/yucca-control-filter-data-discrete.js"></script>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="http://localhost:8001/style/yucca-widget-theme-minimal.css">

	<style>
		body{font-family: sans-serif; font-size: 14px; margin: 0;}
		.header{background-color: #f7f7f7; padding: 24px; border-bottom: solid 1px #1dbbee; clear: both; overflow:  hidden;}
		.header h1{float: left;}
		.header a{display: inline block; float: right; color: #333; text-decoration: none;  margin: 24px;}
		.header a:hover{color: #1dbbee;}
		.content{margin: 24px; }
		.widget-container{}
	</style>

	<script type="text/javascript">
		angular.module('myApp', ['yucca.plugin', 'ngSanitize']).controller('myCtrl', function($scope, $compile){
			
		});

	</script>

</head>
<body>
	<header class='header'>
		<h1>Test Widget: MULTIBAR CHART</h1>
		<a href='/' target='_blank'>Home</a>
		<a href='https://www.smartdatanet.it/' target='_blank'>Smartdatanet.it</a>
		<a href='https://userportal.smartdatanet.it/reference/#/widget' target='_blank'>Documentation</a>
	</header>
	<div ng-app="myApp" class='content' ng-controller="myCtrl">
	<div></div>
		<div class='row' >
			<div class='col-sm-12'>
				<ng-yucca-dataset-multibar-chart
				tenantcode='regp_crusgov'
				datasetcode='Pesoassessorato75_9_16_8717'
				group_by_column='{"key":"Sigla","label":"Assessorato"}'
				serie_columns='[{"type":"bar","key":"CostiAmministrativi","label":"Costi
				amm.ivi","countingMode":"sum","color":"#fcc87f"},{"type":"bar","key":"AltraSpesaCorrente","label":"Altra
				spesa  corrente","countingMode":"sum","color":"#FA9000"},{"type":"bar","key":"SpesaNonCorrente","label":"Spesa
				non  corrente","countingMode":"sum","color":"#3BBA3B"}]'
				widget_width='778'
				chart_legend='{"show":true,"position":{"top":0,"right":0}}'
				series_from_values='true'
				series_description_column='{"key":"Assessorato","label":"Assessorato"}'
				decimal_value='1'
				format_big_number='true'
				euro_value='true'
				usertoken='21d612a9a1cec5e98e9e33d05551229c'
				evt_change_groupbycolumn='{"enabled":true}'
				evt_filtertext='{"enabled":true}'
			  />    
			
			</div>
			<div class='col-sm-12'>
				<ng-yucca-dataset-multibar-chart
				tenantcode='regp_crusgov'
				datasetcode='Ripaass_multidata81_19_trasposta_8726'
				group_by_column='{"key":"Spese","label":"Assessorato"}'
				serie_columns='[{"type":"bar","key":"CostiAmministrativi","label":"Costi
				amm.ivi","countingMode":"sum","color":"#fcc87f"},{"type":"bar","key":"AltraSpesaCorrente","label":"Altra
				spesa  corrente","countingMode":"sum","color":"#FA9000"},{"type":"bar","key":"SpesaNonCorrente","label":"Spesa
				non  corrente","countingMode":"sum","color":"#3BBA3B"}]'
				widget_width='778'
				chart_legend='{"show":true,"position":{"top":0,"right":0}}'
				series_from_values='true'
				series_description_column='{"key":"Assessorato","label":"Assessorato"}'
				decimal_value='1'
				format_big_number='true'
				euro_value='true'
				usertoken='21d612a9a1cec5e98e9e33d05551229c'
				evt_change_groupbycolumn='{"enabled":true}'
				evt_filtertext='{"enabled":true}'
			  />    
			
			</div>
			<div class='col-sm-12'>
				<ng-yucca-dataset-multidata-stats
				tenant_code='regp_crusgov'
				dataset_code='Ripaass_multidata81_19_trasposta_8726'
				first_group_column='Spese'
				second_group_column='["ACP","AIR","BAIeBIL","CTC","DAE","FSP","LFU","OTP","PCP","PRE","SAE","UTE"]'
				first_group_colors='["#FA9000","#3BBA3B"]'
				second_group_label='["ACP","AIR","BAIeBIL","CTC","DAE","FSP","LFU","OTP","PCP","PRE","SAE","UTE"]'
				counting_mode='sum'
				chart_legend='{"show":true,"position":{"top":0,"right":0}}'
				chart_height='300'
				grouping_way='stacked'
				euro_value='false'
				user_token='21d612a9a1cec5e98e9e33d05551229c'
				debug='true'
			/> 

			</div>
			<div class=' col-sm-8 widget-container'>
				<div class='row' >
 					<div class=' col-sm-8'>
<div>



	<!-- 
 				<ng-yucca-dataset-multibar-chart 
 				tenantcode='csi_poc_fesr' 
 				datasetcode='Cruscotto_fesr_totale_asse_pa_vs_imprese_8681' 
 				group_by_column='{"key":"asse","label":"Asse"}' 
 				serie_columns='[{"type":"bar","key":"target2023","label":"target2023","countingMode":"max","color":"#3bba3b"},{"type":"bar","key":"totale_concesso","label":"Totale Concesso","countingMode":"sum","color":"#fa9a00"},{"type":"bar","key":"totale_pagamenti","label":"Totale Pagamenti","countingMode":"sum","color":"#0000ff"}]' 
 				widget_width='633' decimal_value='0' format_big_number='true' 
 				usertoken='5wHuWCcdb1qgToAlPU8B81h8aXwa' />
 		 -->		
</div>
 				<div> <ng-yucca-dataset-singledata
          tenantcode='regp_crusgov'
          datasetcode='Tabellaspesacorrentecontocapitale_8729'
          value_column='{"key":"SpesaCorrente","label":""}'
          grouped_query='true'
          filter='(%272018%27 eq Anno) '
          euro_value='true'
          format_big_number='true'
          evt_filtertext='{"enabled":true}'
          usertoken='5wHuWCcdb1qgToAlPU8B81h8aXwa'
          evt_highlight_groupbycolumn='{"enabled":true}'
        /></div>
 
 <div>
 					<!--<ng-yucca-dataset-multibar-chart
tenantcode='regp_crusgov'
datasetcode='AnalisiMultidata_8714'
group_by_column='{"key":"Titolo","label":"Titolo"}'
serie_columns='[{"type":"bar","key":"2018","label":"Anno 2018","countingMode":"sum"},{"type":"bar","key":"2019","label":"Anno 2019","countingMode":"sum"}]'
stacked='true'
chart_colors='["#3bba3b","#fa9a00"]'
usertoken='2433cc704cfe7ced39b2e1eff8b5e2b'
							 decimal_value='0'
							 format_big_number='true'
/>-->
 </div> <!--
 						<ng-yucca-dataset-multibar-chart tenantcode='regpie' datasetcode='Flussi_turistici_provincia_6054' 
 						group_by_column='{"key":"anno","label":"Anno"}' 
 						serie_columns='[{"key":"arrivi_italiani","label":"Arrivi Italiani","countingMode":"sum","type":"area","color":"#E9C1FF",yAxis: 1},
 										{"key":"arrivi_stranieri","label":"Arrivi stranieri","countingMode":"sum","type":"bar","color":"#B935FC",yAxis: 1},
 										{"key":"arrivi_totali","label":"Arrivi totali","type":"scatter","shape":"diamond","countingMode":"sum","color":"#A7FE00",yAxis: 1}]' 
 										evt_change_groupbycolumn='{"enabled":true}' 
 										evt_filtertext='{"enabled":true}' 							 format_big_number='true'
										 chart_width='523'
										 chart_colors='["#638e00","#ff0000","#7eb600","#9ade00","#ace42e","#beea5c","#d1f08a","#e3f6b8"]'
 										/>				
 	<ng-yucca-dataset-multibar-chart
  tenantcode='regpie'
  datasetcode='Flussi_turistici_provincia_6054'
  group_by_column='{"key":"provincia","label":"Provincia"}'
  serie_columns='[{"type":"bar","key":"arrivi_totali","label":"Arrivi
  totali","countingMode":"sum","color":"#ff0000"},{"type":"bar","key":"arrivi_stranieri","label":"Arrivi
  stranieri","countingMode":"sum","color":"#00ff00"},{"type":"bar","key":"arrivi_italiani","label":"Arrivi
  Italiani","countingMode":"sum","color":"#0080ff"}]'
  evt_change_groupbycolumn='{"enabled":true}'
  evt_filtertext='{"enabled":true}'
/>
						<ng-yucca-dataset-multibar-chart 
							 tenant_code="regpie" 
							 datasetcode="Flussi_turistici_provincia_6054" 
							 group_by_column="{'key':'anno','label':'Anno'}" 
							 widget_title="Flussi" 
							 widget_subtitle="MultibarChart" 
							 euro_value="true" 
							 decimal_value='0'
							 format_big_number='true'
							 show_values="true"
							 chart_height='400'
							 main_chart_color='#6a00ff'
							 chart_colors__='["#eaeae8","#ff0000"]'
							 chart_legend='{"show":true,"position":{"left":200,"bottom":5}}'
							 x_axis='{"show":true,"label":"Anno"}'
  							 y_axis='{"show":true,"label":"Arrivi totali"}'
  							 serie_columns="['arrivi_totali','arrivi_italiani','arrivi_stranieri']" 
  							 serie_styles="{'arrivi_totali':{'label':'Arrivi Totali', color: '#c34cff', countingMode:'sum'},'arrivi_italiani':{'label':'Arrivi Italiani', color: '#ff7f0e',countingMode:'count'},'arrivi_stranieri':{'label':'Arrivi Stranieri', color: '#1f77b4',countingMode:'sum'}}"
							 
							 evt_change_valuecolumn='{"enabled":true,"onlySameDataset":false}'
							 evt_change_groupbycolumn='{"enabled":true}'
							 evt_filtertext='{"enabled":true}'
							/>
						<div style='display:none'>
							 unused attribute
							 slice_colors='["#fff000","#00ff00"]'
							 start_angle='1.5'
						 end_angle='1.4'
							 </div> -->
					</div>
 					 <div class=' col-sm-4'>
					<ng-yucca-distribution-table
						 tenant_code="regpie" 
						 datasetcode="Flussi_turistici_provincia_6054" 
						 group_by_column="{'key':'provincia','label':'Provincia'}" 
						 value_column='{"key":"arrivi_stranieri","label":"Spesa", "countingMode":"sum"}' widget_title="Chart table" 
						 widget_subtitle="" 
						 euro_value="true" 
						 decimal_value='0'
						 format_big_number='true'
						 counting_mode="count"
						 zzzmain_color='#6a00ff'
						 chart_colors='["#eaeae8","#ff0000"]'
						 max_row='30' 
						 columns="[{value:'arrivi_totali', label: 'Arrivi totali'},{value:'arrivi_italiani', label: 'Arrivi Italiani'},{value:'arrivi_stranieri', label: 'Arrivi Stranieri'} ]"
						 
						/></div> 
					
				</div>
			</div>
			<div class=' col-sm-4 widget-container'>
				<div>
				<ng-yucca-control-filter-data-discrete
						label='Tipologia'
						hint=''
						value_columns="[{key:'all', label: 'Totale', 'filter':''}, {key:'flg_azienda ', label: 'Solo PA', 'filter':'(1 eq flg_azienda )'},{key:'flg_azienda', label: 'Solo Imprese', 'filter':'(0 eq flg_azienda )'} ]"
						render='control'
						direction='row'
						filter_type='unique'
					/>
				</div>
				
				<div>
					<h4>Control cambio colonna da contare</h4>
					<ng-yucca-control-select 
						label='Arrivi'
						hint='Flussi turistici per qualifica e per Provincia'
						select_empty_label='Scegli il tipo'
						value_columns="[{key:'arrivi_totali', label: 'Arrivi totali'},{key:'arrivi_italiani', label: 'Arrivi Italiani'},{key:'arrivi_stranieri', label: 'Arrivi Stranieri'} ]"
						render='radio'
						direction='row'
						selected_value='arrivi_totali'
					/>
				</div>
				<div>
					<h4>Control cambio colonna su cui raggruppare</h4>
					<ng-yucca-control-select 
						label='Arrivi'
						hint='Flussi turistici per qualifica e per Provincia'
						select_empty_label='Scegli il tipo' 
						group_by_columns="[{key:'provincia', label: 'Provincia'},{key:'anno', label: 'Anno'},{key:'settore', label: 'Settore'}, {key:'qualifica', label: 'Qualifica'}]"
						render='button'
						direction='row'
						selected_value='provincia'
					/>
				</div>
				<div>
					<h4>Control primo filtro</h4>
					<ng-yucca-control-filter 
						label='Anno'
						hint='Filtra solo i dati di un determinato anno'
						filter_type='text'
						column="anno"
						advanced_filter='numeric'
					/>
				</div>
				<div>
					<h4>Control secondo filtro</h4>
					<ng-yucca-control-filter 
						label='Settore'
						hint='Filtra solo i dati di un determinato settore'
						placeholder='SETTORE ALBERGHIERO'
						filter_type='text'
						column="settore"
					/>
				</div>
				<div>
					<h4>Control terzo filtro</h4>
					<ng-yucca-control-filter 
						label='Provincia'
						hint='Filtra solo i dati di una determinata provincia'
						placeholder='TORINO'
						filter_type='text'
						column="provincia"
						advanced_filter='text'
					/>
				</div>
			</div>
		</div>
		</div>
</body>
</html>












